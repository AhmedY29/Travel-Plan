import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = "AIzaSyCICSPsxOFVwM_Jtb6Vn-pSJDKGf0p89kw";
//    process.env.GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "generate travel plan for location: Riyadh, for 4 days for couple with a cheep budget, give me a Hotels options list with HotelName, HotelAddress, Price, HotelImageUrl, geoCoordinates, rating, descriiptions and suggest itinerary with placeName, placeDetails, placeImageUrl, geo Coordinates, ticketPricing, Time to travel each of location for 4 days with each day plan with best time to visit in json format key in English and value is Arabic 'I want real images' ",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: 'Okay, here\'s a budget-friendly 4-day travel plan for a couple in Riyadh, presented in JSON format with English keys and Arabic values, along with hotel options:\n\n```json\n{\n  "travelPlan": {\n    "location": {\n        "english": "Riyadh",\n        "arabic": "الرياض"\n    },\n     "budget": {\n         "english": "Cheap",\n         "arabic": "رخيص"\n        },\n    "duration": {\n         "english": "4 Days",\n         "arabic": "4 أيام"\n        },\n     "travelers": {\n         "english": "Couple",\n         "arabic": "زوجان"\n     },\n    "hotels": [\n      {\n        "hotelName": {\n          "english": "Holiday Inn Riyadh Olaya",\n          "arabic": "هوليداي إن الرياض العليا"\n        },\n        "hotelAddress": {\n          "english": "Olaya Street, Riyadh",\n          "arabic": "شارع العليا، الرياض"\n        },\n        "price": {\n          "english": "SAR 300 - 400 per night",\n          "arabic": "300 - 400 ريال سعودي لليلة الواحدة"\n        },\n        "hotelImageUrl": "https://example.com/holidayinn_riyadh.jpg",\n        "geoCoordinates": {\n          "latitude": 24.7177,\n          "longitude": 46.6768\n        },\n        "rating": {\n          "english": "4 stars",\n           "arabic":"4 نجوم"\n        },\n        "description": {\n          "english": "A comfortable hotel in a central location with good amenities.",\n          "arabic": "فندق مريح في موقع مركزي مع وسائل راحة جيدة."\n        }\n      },\n      {\n        "hotelName": {\n          "english": "Ibis Riyadh Olaya Street",\n           "arabic": "إيبيس الرياض شارع العليا"\n        },\n         "hotelAddress": {\n          "english": "Olaya Street, Riyadh",\n          "arabic":"شارع العليا، الرياض"\n        },\n        "price": {\n          "english": "SAR 250 - 350 per night",\n            "arabic":"250 - 350 ريال سعودي لليلة الواحدة"\n        },\n        "hotelImageUrl": "https://example.com/ibis_riyadh.jpg",\n         "geoCoordinates": {\n          "latitude": 24.7124,\n          "longitude": 46.6724\n         },\n        "rating": {\n           "english": "3 stars",\n            "arabic":"3 نجوم"\n        },\n        "description": {\n          "english": "A budget-friendly option with essential comforts.",\n           "arabic": "خيار اقتصادي مع وسائل الراحة الأساسية."\n        }\n      },\n      {\n        "hotelName": {\n          "english": "Braira Hotel Riyadh",\n          "arabic":"فندق بريرا الرياض"\n        },\n        "hotelAddress": {\n           "english": "Al Olaya, Riyadh",\n            "arabic":"العليا، الرياض"\n        },\n        "price": {\n           "english": "SAR 350 - 450 per night",\n            "arabic":"350 - 450 ريال سعودي لليلة الواحدة"\n        },\n        "hotelImageUrl": "https://example.com/braira_riyadh.jpg",\n        "geoCoordinates": {\n          "latitude": 24.7093,\n          "longitude": 46.6838\n        },\n        "rating": {\n          "english": "4 stars",\n          "arabic":"4 نجوم"\n        },\n         "description": {\n          "english": "A modern hotel with good service and facilities.",\n           "arabic":"فندق حديث مع خدمة ومرافق جيدة."\n        }\n      }\n    ],\n    "itinerary": {\n      "day1": {\n        "english": "Day 1: Historical Exploration",\n         "arabic":"اليوم الأول: استكشاف تاريخي",\n        "plan": [\n          {\n            "placeName": {\n              "english": "Masmak Fortress",\n              "arabic": "حصن المصمك"\n            },\n            "placeDetails": {\n              "english": "A historic clay and mudbrick fortress that played a crucial role in the capture of Riyadh. Explore its courtyards and towers.",\n              "arabic": "حصن تاريخي من الطين والطوب اللبن لعب دورًا حاسمًا في الاستيلاء على الرياض. استكشف ساحاته وأبراجه."\n            },\n            "placeImageUrl": "https://example.com/masmak.jpg",\n            "geoCoordinates": {\n              "latitude": 24.6302,\n              "longitude": 46.7149\n            },\n            "ticketPricing": {\n              "english": "Free",\n              "arabic": "مجاني"\n            },\n             "timeToTravel":{\n              "english": "20 mins drive from Olaya area",\n              "arabic":"20 دقيقة بالسيارة من منطقة العليا"\n              },\n            "bestTimeToVisit": {\n              "english": "Morning or Late Afternoon",\n              "arabic": "الصباح أو أواخر الظهيرة"\n            }\n          },\n          {\n            "placeName": {\n              "english": "National Museum of Saudi Arabia",\n              "arabic": "المتحف الوطني السعودي"\n            },\n            "placeDetails": {\n              "english": "Discover Saudi Arabia\'s rich history and heritage through interactive exhibits.",\n               "arabic":"اكتشف تاريخ وتراث المملكة العربية السعودية الغني من خلال المعروضات التفاعلية."\n            },\n            "placeImageUrl": "https://example.com/nationalmuseum.jpg",\n           "geoCoordinates": {\n              "latitude": 24.6368,\n              "longitude": 46.7097\n            },\n            "ticketPricing": {\n              "english": "SAR 10",\n               "arabic":"10 ريال سعودي"\n            },\n            "timeToTravel":{\n              "english": "5 mins drive from Masmak Fortress",\n              "arabic":"5 دقائق بالسيارة من حصن المصمك"\n             },\n            "bestTimeToVisit": {\n              "english": "Afternoon",\n               "arabic": "بعد الظهر"\n            }\n          },\n           {\n            "placeName": {\n              "english": "Deera Square (Justice Square)",\n               "arabic": "ساحة الديرة (ساحة العدل)"\n            },\n            "placeDetails": {\n              "english": "Experience the traditional atmosphere of this public square, a significant place in Riyadh\'s history.",\n              "arabic": "استمتع بالأجواء التقليدية لهذه الساحة العامة، وهي مكان مهم في تاريخ الرياض."\n            },\n            "placeImageUrl": "https://example.com/deera_square.jpg",\n           "geoCoordinates": {\n              "latitude": 24.6328,\n              "longitude": 46.7117\n            },\n            "ticketPricing": {\n               "english": "Free",\n              "arabic":"مجاني"\n            },\n            "timeToTravel": {\n              "english": "5 mins walk from National Museum",\n              "arabic": "5 دقائق مشي من المتحف الوطني"\n               },\n            "bestTimeToVisit": {\n               "english": "Late Afternoon",\n                "arabic":"أواخر الظهيرة"\n              }\n           }\n        ]\n      },\n      "day2": {\n        "english": "Day 2: Modern Riyadh & Shopping",\n        "arabic": "اليوم الثاني: الرياض الحديثة والتسوق",\n        "plan": [\n          {\n            "placeName": {\n              "english": "Kingdom Centre Tower",\n              "arabic": "برج المملكة"\n            },\n            "placeDetails": {\n              "english": "Visit the Sky Bridge for panoramic views of Riyadh. Explore the shopping mall below.",\n              "arabic": "قم بزيارة الجسر العلوي للاستمتاع بإطلالات بانورامية على الرياض. استكشف مركز التسوق الموجود بالأسفل."\n            },\n            "placeImageUrl": "https://example.com/kingdomcenter.jpg",\n             "geoCoordinates": {\n              "latitude": 24.7122,\n              "longitude": 46.6714\n            },\n            "ticketPricing": {\n              "english": "SAR 70 for Sky Bridge",\n              "arabic": "70 ريال سعودي لجسر السماء"\n             },\n            "timeToTravel":{\n              "english": "5 mins drive from Olaya area",\n              "arabic":"5 دقائق بالسيارة من منطقة العليا"\n              },\n           "bestTimeToVisit": {\n              "english": "Afternoon or Evening",\n               "arabic":"بعد الظهر أو المساء"\n            }\n          },\n          {\n            "placeName": {\n              "english": "Al Faisaliah Tower",\n                "arabic":"برج الفيصلية"\n            },\n            "placeDetails": {\n               "english": "Another iconic tower in Riyadh, offering great views and upscale dining options.",\n                "arabic":"برج أيقوني آخر في الرياض، يوفر إطلالات رائعة وخيارات لتناول الطعام الفاخر."\n            },\n            "placeImageUrl": "https://example.com/faisaliah.jpg",\n           "geoCoordinates": {\n              "latitude": 24.7104,\n              "longitude": 46.6808\n            },\n            "ticketPricing": {\n              "english": "SAR 65 for observation deck",\n               "arabic":"65 ريال سعودي لمنصة المراقبة"\n            },\n            "timeToTravel":{\n              "english":"10 mins walk from Kingdom Center",\n              "arabic":"10 دقائق مشي من برج المملكة"\n               },\n            "bestTimeToVisit": {\n              "english": "Evening",\n               "arabic":"المساء"\n            }\n          },\n           {\n            "placeName": {\n              "english":"Riyadh Park Mall",\n               "arabic":"الرياض بارك مول"\n            },\n           "placeDetails": {\n              "english":"A popular shopping mall with a wide range of stores and entertainment options.",\n               "arabic":"مركز تسوق شهير يضم مجموعة واسعة من المتاجر وخيارات الت',
        },
      ],
    },
  ],
});
