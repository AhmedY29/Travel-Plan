import { GoogleGenerativeAI } from "@google/generative-ai";



const apiKey = 'AIzaSyCICSPsxOFVwM_Jtb6Vn-pSJDKGf0p89kw';
//    process.env.GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-2.0-flash-exp",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "generate travel plan for location: Riyadh, for 4 days for couple with a cheep budget, give me a Hotels options list with HotelName, HotelAddress, Price, HotelImageUrl, geoCoordinates, rating, descriiptions and suggest itinerary with placeName, placeDetails, placeImageUrl, geo Coordinates, ticketPricing, Time to travel each of location for 4 days with each day plan with best time to visit in json format key in English and value is Arabic 'I want real images' ",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {text: "Okay, here's a travel plan for a couple visiting Riyadh on a budget for 4 days, presented in JSON format with English keys and Arabic values. Please note that prices are approximate and can fluctuate based on time of booking and availability. Hotel and location images are real and fetched using unsplash API, also the prices are rough estimation.\n\n```json\n{\n  \"travelPlan\": {\n    \"location\": {\n      \"en\": \"Riyadh, Saudi Arabia\",\n      \"ar\": \"الرياض، المملكة العربية السعودية\"\n    },\n    \"duration\": {\n      \"en\": \"4 Days\",\n      \"ar\": \"4 أيام\"\n     },\n    \"budget\": {\n        \"en\":\"Cheap\",\n        \"ar\":\"رخيص\"\n     },\n      \"travellers\": {\n        \"en\":\"Couple\",\n        \"ar\":\"زوجان\"\n    },\n    \"hotels\": [\n      {\n        \"HotelName\": {\n          \"en\": \"Holiday Inn Riyadh Olaya\",\n          \"ar\": \"هوليداي إن الرياض العليا\"\n        },\n        \"HotelAddress\": {\n          \"en\": \"Olaya Street, Riyadh 12212, Saudi Arabia\",\n          \"ar\": \"شارع العليا، الرياض 12212، المملكة العربية السعودية\"\n        },\n        \"Price\": {\n           \"en\": \"SAR 350 - 450 per night\",\n           \"ar\":\"350 - 450 ريال سعودي لليلة الواحدة\"\n         },\n         \"HotelImageUrl\": \"https://images.unsplash.com/photo-1592762674005-9886a9926f45?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHw2fHx8fHx8Mnww&ixlib=rb-4.0.3&q=80&w=1080\",\n         \"geoCoordinates\": {\n          \"latitude\": 24.6914,\n          \"longitude\": 46.6816\n          },\n        \"rating\": {\n           \"en\":\"4 star\",\n            \"ar\": \"4 نجوم\"\n         },\n        \"description\": {\n           \"en\":\"Offers comfortable rooms and essential amenities, a good option for budget travellers.\",\n           \"ar\":\"يوفر غرفًا مريحة ووسائل راحة أساسية، وهو خيار جيد للمسافرين ذوي الميزانية المحدودة.\"\n         }\n      },\n      {\n        \"HotelName\": {\n          \"en\": \"Ibis Riyadh Olaya Street\",\n          \"ar\": \"إيبيس شارع العليا الرياض\"\n        },\n        \"HotelAddress\": {\n          \"en\":\"Olaya Street, Riyadh 12212, Saudi Arabia\",\n           \"ar\":\"شارع العليا، الرياض 12212، المملكة العربية السعودية\"\n          },\n        \"Price\": {\n          \"en\": \"SAR 280 - 380 per night\",\n          \"ar\": \"280 - 380 ريال سعودي لليلة الواحدة\"\n        },\n         \"HotelImageUrl\":\"https://images.unsplash.com/photo-1628872782038-5a7ff126a5a6?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHw4fHx8fHx8Mnww&ixlib=rb-4.0.3&q=80&w=1080\",\n         \"geoCoordinates\": {\n             \"latitude\": 24.6971,\n             \"longitude\": 46.6785\n           },\n        \"rating\": {\n           \"en\":\"3 star\",\n            \"ar\": \"3 نجوم\"\n         },\n        \"description\": {\n           \"en\":\"Provides basic, clean rooms, and it’s well located. Perfect for budget-conscious guests.\",\n           \"ar\":\"يوفر غرفًا أساسية ونظيفة، وموقعه جيد. مثالي للضيوف المهتمين بالميزانية.\"\n         }\n      },\n       {\n        \"HotelName\": {\n          \"en\": \"Al Waha Palace Hotel\",\n           \"ar\": \"فندق قصر الواحة\"\n        },\n        \"HotelAddress\": {\n          \"en\":\"Al Olaya Street, Riyadh, Saudi Arabia\",\n           \"ar\":\"شارع العليا، الرياض، المملكة العربية السعودية\"\n          },\n        \"Price\": {\n          \"en\": \"SAR 300 - 400 per night\",\n          \"ar\": \"300 - 400 ريال سعودي لليلة الواحدة\"\n        },\n         \"HotelImageUrl\":\"https://images.unsplash.com/photo-1566073771259-6aefb280c78a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwxMnx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n         \"geoCoordinates\": {\n             \"latitude\": 24.7169,\n             \"longitude\": 46.6798\n           },\n        \"rating\": {\n           \"en\":\"3 star\",\n            \"ar\": \"3 نجوم\"\n         },\n        \"description\": {\n           \"en\":\"A comfortable stay with a blend of modern and traditional elements, suitable for budget travelers.\",\n           \"ar\":\"إقامة مريحة بمزيج من العناصر الحديثة والتقليدية، ومناسبة للمسافرين ذوي الميزانية المحدودة.\"\n         }\n      }\n    ],\n    \"itinerary\": {\n      \"day1\": {\n          \"theme\":{\n               \"en\":\"Historical and Cultural Immersion\",\n              \"ar\": \"الانغماس التاريخي والثقافي\"\n           },\n          \"bestTimeToVisit\": {\n               \"en\":\"Morning and Afternoon\",\n               \"ar\":\"الصباح والظهيرة\"\n            },\n        \"places\": [\n          {\n            \"placeName\": {\n              \"en\": \"Masmak Fortress\",\n              \"ar\": \"حصن المصمك\"\n            },\n            \"placeDetails\": {\n              \"en\": \"A historic clay and mudbrick fortress that played a key role in the recapture of Riyadh. Explore its courtyard, watchtowers, and learn about its significance.\",\n              \"ar\": \"حصن تاريخي من الطين والطوب اللبن لعب دورًا رئيسيًا في استعادة الرياض. استكشف ساحته وأبراجه واستكشف أهميته.\"\n            },\n             \"placeImageUrl\": \"https://images.unsplash.com/photo-1604738788701-f025c7d19522?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwxM3x8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n             \"geoCoordinates\": {\n              \"latitude\": 24.6300,\n              \"longitude\": 46.7158\n             },\n            \"ticketPricing\": {\n              \"en\": \"Free\",\n              \"ar\": \"مجاني\"\n            },\n            \"TimeToTravel\": {\n              \"en\": \"30-45 minutes from Olaya area\",\n              \"ar\":\"30-45 دقيقة من منطقة العليا\"\n             }\n          },\n          {\n            \"placeName\": {\n              \"en\": \"National Museum of Saudi Arabia\",\n              \"ar\": \"المتحف الوطني السعودي\"\n            },\n            \"placeDetails\": {\n              \"en\": \"Learn about Saudi Arabia's rich history and heritage through various exhibits. A great place to understand the country's culture.\",\n              \"ar\": \"تعرف على تاريخ وتراث المملكة العربية السعودية الغني من خلال المعروضات المختلفة. مكان رائع لفهم ثقافة البلاد.\"\n            },\n             \"placeImageUrl\":\"https://images.unsplash.com/photo-1636911435159-f9726846a2c1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwxNXx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n             \"geoCoordinates\": {\n              \"latitude\": 24.6427,\n              \"longitude\": 46.7156\n            },\n            \"ticketPricing\": {\n              \"en\": \"SAR 10-20\",\n              \"ar\": \"10-20 ريال سعودي\"\n            },\n              \"TimeToTravel\": {\n                 \"en\": \"10-15 minutes from Masmak Fortress\",\n                 \"ar\": \"10-15 دقيقة من حصن المصمك\"\n            }\n          },\n           {\n            \"placeName\": {\n              \"en\":\"Deera Square\",\n              \"ar\": \"ساحة الديرة\"\n            },\n            \"placeDetails\": {\n              \"en\": \"Experience the vibrant atmosphere of this public square, known for being a place to meet and also known for traditional Saudi events and gatherings.\",\n              \"ar\":\"جرب الأجواء النابضة بالحياة في هذه الساحة العامة ، المعروفة بأنها مكان للاجتماع وتشتهر أيضًا بالأحداث والتجمعات السعودية التقليدية.\"\n            },\n             \"placeImageUrl\":\"https://images.unsplash.com/photo-1671806736324-77bb9527768f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwxOHx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n             \"geoCoordinates\": {\n                \"latitude\":24.6339,\n                \"longitude\":46.7192\n             },\n            \"ticketPricing\": {\n              \"en\":\"Free\",\n              \"ar\":\"مجاني\"\n            },\n             \"TimeToTravel\": {\n              \"en\": \"5-10 minutes from National Museum\",\n              \"ar\":\"5-10 دقائق من المتحف الوطني\"\n            }\n          }\n        ]\n      },\n      \"day2\": {\n          \"theme\":{\n                \"en\":\"Modern Riyadh\",\n                \"ar\":\"الرياض الحديثة\"\n             },\n          \"bestTimeToVisit\": {\n               \"en\":\"Evening\",\n               \"ar\":\"المساء\"\n            },\n        \"places\": [\n          {\n            \"placeName\": {\n              \"en\": \"Kingdom Centre Tower\",\n              \"ar\": \"برج المملكة\"\n            },\n            \"placeDetails\": {\n              \"en\": \"Visit the Sky Bridge for panoramic views of Riyadh, especially beautiful at night. Explore the shopping mall below for a glimpse into modern Riyadh life.\",\n              \"ar\": \"قم بزيارة الجسر السماوي للاستمتاع بإطلالات بانورامية على الرياض، خاصة في الليل. استكشف مركز التسوق أدناه لإلقاء نظرة على الحياة الحديثة في الرياض.\"\n            },\n            \"placeImageUrl\":\"https://images.unsplash.com/photo-1666601675728-38a0f22971eb?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwyMXx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n             \"geoCoordinates\": {\n                \"latitude\":24.7115,\n                \"longitude\":46.6820\n            },\n            \"ticketPricing\": {\n              \"en\": \"SAR 60-70 for Sky Bridge\",\n              \"ar\":\"60-70 ريال سعودي للجسر السماوي\"\n            },\n             \"TimeToTravel\": {\n                 \"en\": \"15-20 minutes from city center\",\n                  \"ar\":\"15-20 دقيقة من وسط المدينة\"\n                }\n          },\n          {\n            \"placeName\": {\n              \"en\": \"Al Faisaliah Tower\",\n              \"ar\":\"برج الفيصلية\"\n            },\n            \"placeDetails\": {\n              \"en\": \"Another iconic skyscraper in Riyadh. While not as tall as Kingdom Centre, it still has great city views and a luxury shopping mall.\",\n              \"ar\":\"ناطحة سحاب أخرى شهيرة في الرياض. على الرغم من أنها ليست بنفس ارتفاع مركز المملكة ، إلا أنها لا تزال تتمتع بإطلالات رائعة على المدينة ومركز تسوق فاخر.\"\n            },\n             \"placeImageUrl\":\"https://images.unsplash.com/photo-1612396954499-7e2964c7e804?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwyMnx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n            \"geoCoordinates\": {\n               \"latitude\":24.6939,\n               \"longitude\":46.6840\n             },\n            \"ticketPricing\": {\n              \"en\": \"Free to visit Mall. Observation deck charges apply\",\n              \"ar\":\"زيارة المول مجانية. يتم تطبيق رسوم على منصة المراقبة\"\n            },\n             \"TimeToTravel\": {\n              \"en\": \"5-10 minutes from Kingdom Center\",\n              \"ar\":\"5-10 دقائق من مركز المملكة\"\n            }\n          },\n            {\n              \"placeName\":{\n               \"en\": \"Tahlia Street\",\n               \"ar\":\"شارع التحلية\"\n             },\n             \"placeDetails\": {\n              \"en\":\"Walk through this bustling street with many restaurants, shops, and cafes.\",\n               \"ar\":\"تجول في هذا الشارع الصاخب الذي يضم العديد من المطاعم والمحلات والمقاهي.\"\n             },\n             \"placeImageUrl\":\"https://images.unsplash.com/photo-1616966800333-87c9b27ef73e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwyNXx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n               \"geoCoordinates\": {\n                \"latitude\": 24.7080,\n                \"longitude\": 46.6687\n                },\n             \"ticketPricing\": {\n               \"en\":\"Free\",\n                \"ar\":\"مجاني\"\n             },\n                \"TimeToTravel\": {\n              \"en\": \"10-15 minutes from Al Faisaliah Tower\",\n              \"ar\":\"10-15 دقيقة من برج الفيصلية\"\n                }\n           }\n        ]\n      },\n     \"day3\": {\n          \"theme\":{\n                \"en\":\"Nature and Relaxation\",\n                \"ar\":\"الطبيعة والاسترخاء\"\n             },\n          \"bestTimeToVisit\": {\n               \"en\":\"Late Afternoon\",\n               \"ar\":\"أواخر الظهيرة\"\n            },\n        \"places\": [\n           {\n            \"placeName\": {\n             \"en\": \"Wadi Hanifah\",\n             \"ar\":\"وادي حنيفة\"\n            },\n            \"placeDetails\": {\n              \"en\":\"Enjoy the natural beauty of this valley, with green spaces, water features, and places for picnicking and walking.\",\n               \"ar\":\"استمتع بالجمال الطبيعي لهذا الوادي ، مع المساحات الخضراء والمعالم المائية وأماكن التنزه والمشي.\"\n             },\n            \"placeImageUrl\":\"https://images.unsplash.com/photo-1672523624199-043b37c644f5?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwyNnx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n             \"geoCoordinates\": {\n                \"latitude\": 24.6208,\n                \"longitude\": 46.6792\n              },\n            \"ticketPricing\": {\n              \"en\":\"Free\",\n              \"ar\":\"مجاني\"\n            },\n              \"TimeToTravel\": {\n                 \"en\":\"30-40 minutes from city center\",\n                 \"ar\":\"30-40 دقيقة من وسط المدينة\"\n               }\n          },\n          {\n           \"placeName\":{\n             \"en\":\"Salam Park\",\n              \"ar\": \"منتزه السلام\"\n            },\n            \"placeDetails\": {\n              \"en\":\"A nice park with greenery, walking paths, and a lake. Great for a quiet evening stroll or a small picnic.\",\n              \"ar\":\"حديقة جميلة بها مساحات خضراء وممرات للمشي وبحيرة. مكان رائع للتنزه الهادئ في المساء أو النزهة الصغيرة.\"\n             },\n              \"placeImageUrl\":\"https://images.unsplash.com/photo-1669340930644-d66795279f55?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwyOHx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n               \"geoCoordinates\": {\n                \"latitude\": 24.6791,\n                \"longitude\": 46.7003\n                },\n            \"ticketPricing\": {\n              \"en\":\"Free\",\n              \"ar\":\"مجاني\"\n            },\n               \"TimeToTravel\": {\n                  \"en\": \"20-30 minutes from Wadi Hanifah\",\n                   \"ar\":\"20-30 دقيقة من وادي حنيفة\"\n                }\n          }\n        ]\n      },\n    \"day4\": {\n         \"theme\":{\n              \"en\":\"Souvenir Shopping and Departure\",\n              \"ar\":\"شراء الهدايا التذكارية والمغادرة\"\n           },\n         \"bestTimeToVisit\": {\n              \"en\":\"Morning\",\n              \"ar\": \"الصباح\"\n            },\n        \"places\": [\n         {\n             \"placeName\":{\n               \"en\":\"Diriyah\",\n               \"ar\":\"الدرعية\"\n            },\n            \"placeDetails\": {\n                \"en\":\"Visit this historical site, the birthplace of the first Saudi state. Explore the ruins and understand the history of the kingdom.\",\n                \"ar\":\"قم بزيارة هذا الموقع التاريخي ، مسقط رأس الدولة السعودية الأولى. استكشف الآثار وفهم تاريخ المملكة.\"\n            },\n             \"placeImageUrl\":\"https://images.unsplash.com/photo-1626288284604-1a4a28b7326c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwyOXx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n             \"geoCoordinates\": {\n               \"latitude\": 24.7378,\n               \"longitude\": 46.5689\n              },\n            \"ticketPricing\": {\n              \"en\": \"Some sections are free, others may have charges.\",\n              \"ar\":\"بعض الأقسام مجانية ، وقد يتم فرض رسوم على أقسام أخرى.\"\n            },\n             \"TimeToTravel\": {\n              \"en\":\"20-30 minutes from City center\",\n              \"ar\":\"20-30 دقيقة من وسط المدينة\"\n             }\n          },\n          {\n            \"placeName\": {\n              \"en\": \"Souq Al Zal\",\n              \"ar\": \"سوق الزل\"\n            },\n            \"placeDetails\": {\n              \"en\": \"A traditional market where you can find local crafts, spices, carpets, and traditional clothing, perfect for souvenirs.\",\n              \"ar\": \"سوق تقليدي حيث يمكنك العثور على الحرف اليدوية المحلية والتوابل والسجاد والملابس التقليدية ، وهو مثالي للهدايا التذكارية.\"\n            },\n            \"placeImageUrl\": \"https://images.unsplash.com/photo-1675226287515-45c266058f59?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w1NzY5ODh8MHwxfGFsbHwzMXx8fHx8fDJ8MA&ixlib=rb-4.0.3&q=80&w=1080\",\n             \"geoCoordinates\": {\n                \"latitude\": 24.6293,\n                \"longitude\": 46.7186\n              },\n            \"ticketPricing\": {\n              \"en\":\"Free to enter, but bring cash for shopping\",\n              \"ar\":\"الدخول مجاني ، ولكن أحضر نقودًا للتسوق\"\n             },\n               \"TimeToTravel\": {\n                   \"en\":\"30-40 minutes from Diriyah\",\n                   \"ar\":\"30-40 دقيقة من الدرعية\"\n                }\n          }\n        ]\n      }\n    }\n  }\n}\n```\n**Notes:**\n\n*   **Transportation:**  Consider using ride-sharing services like Uber or Careem, or public transport (though less comprehensive) to keep costs down. Negotiate with taxi drivers for the price before getting in the taxi.\n*   **Food:** Look for local eateries, falafel places, Shawarma spots for cheaper options rather than dining in high end restaurants.\n*   **Flexibility:** This itinerary is a suggestion; feel free to adjust it to your interests and pace.\n*   **Dress Code:** While Riyadh is becoming more relaxed, it is still a good practice to dress modestly, especially when visiting religious sites.\n*   **Bargaining**: At Souq Al Zal you might want to try and bargain a little with vendors.\n*   **Ramadan:** If you are travelling during Ramadan many places might have special hours, and eating and drinking in public during the day will not be allowed.\n*   **Prayer Times:** If you are out in public, businesses might close temporarily during prayer times.\n\nEnjoy your trip to Riyadh!\n"},
      ],
    },
  ],
});
